<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="전국의 Lumina Art Studio에서 탄생한 특별한 AI 작품들을 감상해보세요."
    />
    <title>갤러리 | LuminaCore</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <nav>
        <div class="container">
          <a href="/" class="logo">LuminaCore</a>
          <div class="nav-links">
            <a href="about.html">브랜드 소개</a>
            <a href="gallery.html">갤러리</a>
            <a href="partnership.html" class="nav-cta">파트너 제휴 문의</a>
          </div>
        </div>
      </nav>
    </header>

    <main>
      <section class="page-header">
        <div class="container">
          <h1>Lumina 갤러리</h1>
          <p>전국 각지에서 실시간으로 탄생하는 놀라운 작품들을 만나보세요.</p>
        </div>
      </section>

      <section id="gallery-main">
        <div class="container">
          <div class="gallery-grid">
            <img
              src="https://api.lumina-core.store/media/%EC%98%88%EC%8B%9C1.png?q=80&w=600"
              alt="Gallery Image"
            />
            <img
              src="https://api.lumina-core.store/media/%EC%98%88%EC%8B%9C2.png?q=80&w=600"
              alt="Gallery Image"
            />
            <img
              src="https://api.lumina-core.store/media/%EC%98%88%EC%8B%9C3.png?q=80&w=600"
              alt="Gallery Image"
            />
            <img
              src="https://api.lumina-core.store/media/%EC%98%88%EC%8B%9C4.png?q=80&w=600"
              alt="Gallery Image"
            />
            <img
              src="https://api.lumina-core.store/media/%EC%98%88%EC%8B%9C5.png?q=80&w=600"
              alt="Gallery Image"
            />
            <img
              src="https://api.lumina-core.store/media/%EC%98%88%EC%8B%9C6.png?q=80&w=600"
              alt="Gallery Image"
            />
            <img
              src="https://api.lumina-core.store/media/%EC%98%88%EC%8B%9C7.png?q=80&w=600"
              alt="Gallery Image"
            />
            <img
              src="https://api.lumina-core.store/media/%EC%98%88%EC%8B%9C8.png?q=80&w=600"
              alt="Gallery Image"
            />
            <img
              src="https://api.lumina-core.store/media/%EC%98%88%EC%8B%9C9.png?q=80&w=600"
              alt="Gallery Image"
            />
            <img
              src="https://api.lumina-core.store/media/%EC%98%88%EC%8B%9C10.png?q=80&w=600"
              alt="Gallery Image"
            />
            <img
              src="https://api.lumina-core.store/media/%EC%98%88%EC%8B%9C11.png?q=80&w=600"
              alt="Gallery Image"
            />
            <img
              src="https://api.lumina-core.store/media/%EC%98%88%EC%8B%9C12.png?q=80&w=600"
              alt="Gallery Image"
            />
          </div>
        </div>
        <div style="text-align: center; margin-top: 40px">
          <a
            href="https://luminagram-flutter-webapp.web.app"
            target="_blank"
            class="btn btn-primary"
            >앱에서 더 보기</a
          >
        </div>
      </section>
    </main>

    <footer>
      <div class="container">
        <p><strong>LuminaCore (루미나코어)</strong></p>
        <p>성공적인 비즈니스를 위해 최고의 기술과 지원을 약속드립니다.</p>
        <p>
          대표: 정만희 | 사업자등록번호: 683-15-02637
          <br />
          문의:
          <a
            href="http://pf.kakao.com/_ECmvn"
            target="_blank"
            title="Lumina Art Studio 카카오톡 채널 새창으로 열기"
            style="color: #bdbdbd; text-decoration: none"
            >카카오톡 채널</a
          >
        </p>
        <p>&copy; 2025 LuminaCore. All Rights Reserved.</p>
      </div>
    </footer>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        fetchGalleryImages();
      });

      async function fetchGalleryImages() {
        const galleryGrid = document.querySelector(
          "#gallery-main .gallery-grid"
        );
        // 로딩 표시 (선택적)
        galleryGrid.innerHTML =
          '<p style="color: white; text-align: center;">갤러리 로딩 중...</p>';

        try {
          // ✅ [수정] SNS 백엔드의 실제 API 주소로 변경하세요.
          const apiUrl = "https://api.luminaart.shop/gallery/feed";
          const response = await fetch(apiUrl);

          if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
          }
          const images = await response.json(); // [{image_url: "..."}, ...]

          if (images.length === 0) {
            galleryGrid.innerHTML =
              '<p style="color: white; text-align: center;">아직 갤러리에 사진이 없습니다.</p>';
            return;
          }

          // 기존 로딩 메시지 삭제
          galleryGrid.innerHTML = "";

          // 받아온 이미지로 <img> 태그 생성 및 추가
          images.forEach((image) => {
            const imgElement = document.createElement("img");
            imgElement.src = image.image_url; // API가 반환한 URL 사용
            imgElement.alt = "Lumina AI Gallery Image";
            // 로딩 실패 시 대체 텍스트 (선택적)
            imgElement.onerror = () => {
              imgElement.alt = "이미지를 로드할 수 없습니다.";
              // imgElement.src = "대체이미지.png"; // 대체 이미지 경로
            };
            galleryGrid.appendChild(imgElement);
          });
        } catch (error) {
          console.error("갤러리 로딩 실패:", error);
          galleryGrid.innerHTML =
            '<p style="color: #ffcccc; text-align: center;">갤러리를 불러오는 중 오류가 발생했습니다. 잠시 후 다시 시도해주세요.</p>';
        }
      }
    </script>
  </body>
</html>
